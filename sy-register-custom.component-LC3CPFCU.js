import{a as j}from"./chunk-DTZEYBOY.js";import{a as Z}from"./chunk-IKTP3OZT.js";import{b as Oe,c as De,d as Pe,e as Te,f as ke,g as Ne}from"./chunk-FEOETI4K.js";import{d as we}from"./chunk-XSAAQTIS.js";import"./chunk-IVYPRR5I.js";import{a as Me}from"./chunk-XHWH72AI.js";import{a as Ee}from"./chunk-NJ3E4L6N.js";import{a as K}from"./chunk-YF3TQPZC.js";import"./chunk-ZWDUPT4T.js";import{a as ge,b as S,d as ye,e as Ce,g as re,i as be,k as ve,r as _e}from"./chunk-Z7AQ5W2I.js";import{a as xe}from"./chunk-5S3YCTQA.js";import{a as Se}from"./chunk-WUTQ432T.js";import"./chunk-3QSCHTZS.js";import{Dc as z,Fb as F,Ob as ne,Pb as ie,Rb as se,Ya as v,_a as k,a as ce,b as de,cb as oe,eb as w,fb as m,g as e,gb as d,h as s,hb as x,i as f,ic as ue,j as n,k as g,ka as I,ob as A,ta as me,ua as pe,wb as y,yb as he,yc as fe}from"./chunk-PLWOJE2C.js";var E=class{constructor(){this.message="Cargando...",this.value=0,setInterval(()=>{this.value<95&&this.value++},100)}},B=E;(()=>{E.\u0275fac=function(t){return new(t||E)}})(),(()=>{E.\u0275cmp=I({type:E,selectors:[["app-sy-loader"]],inputs:{message:"message"},standalone:!0,features:[F],decls:15,vars:3,consts:[["role","dialog",1,"sy-dialog"],["role","banner",1,"sy-header"],["role","main",1,"sy-container"],[1,"sy-content"],["width","180","viewBox","0 0 32 40","fill","none","xmlns","http://www.w3.org/2000/svg"],["fill-rule","evenodd","clip-rule","evenodd","d","M16.1509 4.44437C22.2872 4.44437 27.2614 9.41943 27.2614 15.5549C27.2614 21.692 22.2872 26.6662 16.1509 26.6662C10.0146 26.6662 5.04039 21.692 5.04039 15.5549C5.04039 9.41943 10.0146 4.44437 16.1509 4.44437ZM16.1509 31.1106C24.7418 31.1106 31.7057 24.1467 31.7057 15.5549C31.7057 11.2018 29.9157 7.26763 27.0336 4.44437H27.2614C29.716 4.44437 31.7057 2.45468 31.7057 0H16.1509C7.55991 0 0.595169 6.96475 0.595169 15.5549C0.595169 24.1467 7.55991 31.1106 16.1509 31.1106Z","fill","#5A33FF"],["fill-rule","evenodd","clip-rule","evenodd","d","M30.8387 32.0797C30.0819 31.2282 28.8029 31.0857 27.8806 31.7546C24.5855 34.1453 20.5336 35.5557 16.1507 35.5557C11.766 35.5557 7.71243 34.1436 4.41563 31.7512C3.49331 31.0823 2.21435 31.2248 1.45755 32.0754C0.582162 33.06 0.751098 34.5839 1.81761 35.3569C5.84476 38.2774 10.7959 40 16.1507 40C21.5028 40 26.4523 38.2791 30.4778 35.3611C31.5443 34.5881 31.714 33.0643 30.8387 32.0797Z","fill","#5A33FF"],["fill-rule","evenodd","clip-rule","evenodd","d","M16.1484 21.0478C19.1023 21.0478 21.4964 18.6528 21.4964 15.699C21.4964 12.746 19.1023 10.3511 16.1484 10.3511C13.1946 10.3511 10.7997 12.746 10.7997 15.699C10.7997 18.6528 13.1946 21.0478 16.1484 21.0478Z","fill","#5A33FF"],["max","100",1,"sy-progress",3,"value"],["role","contentinfo",1,"sy-footer"],[1,"sy-footer-logo"],[3,"width"]],template:function(t,i){t&1&&(m(0,"article",0),x(1,"header",1),m(2,"section",2)(3,"main",3),me(),m(4,"svg",4),x(5,"path",5)(6,"path",6)(7,"path",7),d(),y(8),pe(),x(9,"progress",8),d()(),m(10,"footer",9)(11,"footer",10)(12,"span"),y(13," Verificado por "),d(),x(14,"app-sy-logo",11),d()()()),t&2&&(v(8),he(" ",i.message," "),v(1),w("value",i.value),v(5),w("width",50))},dependencies:[z,K],styles:['[_nghost-%COMP%]{position:fixed;inset:0;display:flex;align-items:center;justify-content:center;background:#000000c5;-webkit-tap-highlight-color:transparent;overflow:hidden;-webkit-overflow-scrolling:touch;font-family:montserrat;text-align:center}.sy-dialog[_ngcontent-%COMP%]{min-height:200px;min-width:200px;max-height:100vh;border-radius:16px;background:#ffffff;box-shadow:none;border-color:transparent;display:grid;grid-template-rows:52px 1fr 52px;grid-template-columns:1fr;clip-path:inset(0)}.sy-header[_ngcontent-%COMP%]{padding:12px;display:flex;justify-content:space-between;position:relative}.sy-header[_ngcontent-%COMP%]:before{content:"DEMO";height:40px;width:200px;position:absolute;text-align:center;rotate:-45deg;top:10px;left:-70px;font-family:montserrat;background-color:#5a33ffd9;color:#fff;display:flex;justify-content:center;align-items:center}.sy-container[_ngcontent-%COMP%]{position:relative;overflow-y:auto;overflow-x:hidden;padding:15px 15px 0;display:grid;justify-content:center;grid-template-rows:1fr;grid-template-columns:1fr}.sy-container[_ngcontent-%COMP%]::-webkit-scrollbar{width:6px}.sy-container[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:transparent}.sy-container[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background-color:#5a33ff;border-radius:20px;border:3px solid transparent}.sy-logo-soyyo[_ngcontent-%COMP%]{width:50px}.sy-content[_ngcontent-%COMP%]{display:grid;margin:2rem;max-width:400px;justify-content:center;font-family:montserrat;font-size:1.2em;font-weight:500;row-gap:1rem}.sy-progress[_ngcontent-%COMP%]::-moz-progress-bar{background:#5a33ff}.sy-progress[_ngcontent-%COMP%]::-webkit-progress-value{background:#5a33ff}.sy-progress[_ngcontent-%COMP%]::-webkit-progress-bar{background-color:#828282c5}.sy-progress[_ngcontent-%COMP%]{position:relative;width:300px;-webkit-appearance:none;appearance:none;overflow:hidden;height:1rem;border-radius:1rem;color:#5a33ff;background-color:#828282c5;margin:auto}.sy-footer[_ngcontent-%COMP%]{padding:12px;display:grid}.sy-dialog[scroll][_ngcontent-%COMP%] > .sy-footer[_ngcontent-%COMP%]{box-shadow:0 0 15px #00000026}.sy-dialog[scroll][_ngcontent-%COMP%] > .sy-footer[_ngcontent-%COMP%]:before{content:" ";position:absolute;top:0;width:92%;margin:auto;border-top:none}.sy-footer-logo[_ngcontent-%COMP%]{height:100%;width:100%;display:flex;justify-content:center;align-items:center;color:#828086;gap:4px}.sy-footer-logo[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-family:montserrat;font-weight:500;font-size:.8em;line-height:13px;letter-spacing:.21px}svg[_ngcontent-%COMP%]{margin:auto}@media only screen and (max-width: 600px){.sy-dialog[_ngcontent-%COMP%]{min-height:max-content;max-height:90%;height:100%;width:90%;min-width:90%}.sy-dialog[full-screen][_ngcontent-%COMP%]{border-radius:0;max-height:100%;height:100%;width:100%;min-width:100%}}']})})();var qe=["inputEmail"],We=["inputPhone"];function Ge(ee,o){ee&1&&(m(0,"span",15),y(1," El correo electr\xF3nico no es correcto "),d())}function He(ee,o){ee&1&&(m(0,"span",15),y(1," El n\xFAmero de tel\xE9fono no es correcto "),d())}var l,r,a,c,D,P,T,u,C,p,h,_,M,L,Ie,U,Ae,Y,Fe,Q,ze,V,Ke,q,Ze,W,je,G,Be,H,Le,$,Ue,J,Ye,X,Qe,N,ae,R,le,O=class{constructor(o,t,i,b){s(this,u);s(this,p);s(this,_);s(this,L);s(this,U);s(this,Y);s(this,Q);s(this,V);s(this,q);s(this,W);s(this,G);s(this,H);s(this,$);s(this,J);s(this,X);s(this,N);s(this,R);s(this,l,void 0);s(this,r,void 0);s(this,a,void 0);s(this,c,void 0);s(this,D,void 0);s(this,P,void 0);s(this,T,void 0);this._router=o,this._modalService=t,this._changeDetectorRef=i,this._envStore=b,this.loading=!1,f(this,D,!1),f(this,P,!1),f(this,T,!1),this.emailControl=new re("",[S.required,S.minLength(5),S.maxLength(150),S.pattern("^[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+(?:\\.[A-Za-z0-9!#$%&'*+/=?^_`{|}~-]+)*@(?:[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?\\.)+[A-Za-z0-9](?:[A-Za-z0-9-]*[A-Za-z0-9])?$")]),this.phoneNumberControl=new re("",[S.required,S.minLength(10),S.maxLength(15)])}ngOnInit(){let o=this._router.url.replace(/\/v-2\/validacion\/|\/custom/g,"");Oe(de(ce({},this._envStore.env),{ENTITY_ID:this._envStore.env.PRODUCTION?"7":"4"}),"app-root",o!=="custom"?o:void 0).catch(t=>{this._modalService.closeModal()})}preOnSubmit(){this.emailControl.valid&&this.phoneNumberControl.valid?n(this,L,Ie).call(this):(this.emailControl.markAllAsTouched(),this.phoneNumberControl.markAllAsTouched())}enter(o){o.preventDefault(),this.preOnSubmit()}},Re=O;l=new WeakMap,r=new WeakMap,a=new WeakMap,c=new WeakMap,D=new WeakMap,P=new WeakMap,T=new WeakMap,u=new WeakSet,C=function(o){this._modalService.openModal(B,{message:o})},p=new WeakSet,h=function(){this._modalService.closeModal()},_=new WeakSet,M=function(){return g(this,null,function*(){let{SyAlertComponent:o}=yield import("./sy-alert.component-CRVFQ3F7.js");this._modalService.openModal(o)})},L=new WeakSet,Ie=function(){this.loading=!0;let o=n(this,$,Ue).call(this);f(this,l,new Pe(o)),e(this,l).on("ready",()=>{this.loading=!1,n(this,H,Le).call(this),n(this,J,Ye).call(this),e(this,l).show(),n(this,U,Ae).call(this)}),e(this,l).on("success",t=>{n(this,Y,Fe).call(this,Number(t.data.processId)),e(this,l).hide(),n(this,u,C).call(this,"Estamos enviando un codigo a tu celular...")}),e(this,l).on("error",t=>g(this,null,function*(){let{SyResponseComponent:i}=yield import("./sy-response.component-Z3WLKG5P.js");this._modalService.openModal(i,{typeResponse:"error",title:t.type,message:t.message}),n(this,p,h).call(this)})),e(this,l).on("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,l).unmount()})}),e(this,l).onFormTutor("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,l).unmount()})})},U=new WeakSet,Ae=function(){e(this,l).on("start-loading",()=>{e(this,l).hide(),n(this,u,C).call(this,"Danos un momento mientras validamos tus datos...")}),e(this,l).on("end-loading",()=>{e(this,l).show(),n(this,p,h).call(this)})},Y=new WeakSet,Fe=function(o){f(this,r,new ke({entityId:this._envStore.env.PRODUCTION?"7":"4",channel:"WEB_CLIENT",appIdentifier:"web.demo.idcolombia",processId:o,processType:"ENR",documentType:this.documentType,identificationNumber:this.identification})),e(this,r).on("error",t=>g(this,null,function*(){let{SyResponseComponent:i}=yield import("./sy-response.component-Z3WLKG5P.js");n(this,p,h).call(this),this._modalService.openModal(i,{typeResponse:"error",title:t.type,message:t.message}),e(this,D)||e(this,l).unmount()})),e(this,r).on("ready",()=>{e(this,l).unmount(),e(this,r).show(),n(this,Q,ze).call(this),n(this,p,h).call(this),f(this,D,!0)}),e(this,r).on("success",t=>g(this,null,function*(){n(this,V,Ke).call(this,o),e(this,r).hide(),n(this,u,C).call(this,"Preparate para tomarte una foto...")})),e(this,r).on("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,r).unmount()})})},Q=new WeakSet,ze=function(){e(this,r).on("start-loading",()=>{e(this,r).hide(),n(this,u,C).call(this,"Danos un momento mientras validamos tu codigo...")}),e(this,r).on("end-loading",()=>{e(this,r).show(),n(this,p,h).call(this)}),e(this,r).on("retry",o=>{this._modalService.openModal(j,{typeResponse:"error",title:":(",message:Z[o]})})},V=new WeakSet,Ke=function(o){e(this,r).loading=!0,f(this,a,new Te({entityId:this._envStore.env.PRODUCTION?"7":"4",channel:"WEB_CLIENT",appIdentifier:"web.demo.idcolombia",processId:o,processType:"ENR",documentType:this.documentType,identificationNumber:this.identification})),e(this,a).on("ready",()=>{e(this,r).loading=!1,e(this,r).unmount(),e(this,a).show(),n(this,q,Ze).call(this),n(this,p,h).call(this),f(this,P,!0)}),e(this,a).on("success",t=>g(this,null,function*(){t.code==="EP004"?(e(this,a).hide(),n(this,u,C).call(this,"Estamos a una solo paso..."),yield n(this,R,le).call(this,o),e(this,a).unmount()):(n(this,W,je).call(this,o),e(this,a).hide(),n(this,u,C).call(this,"Prepara tu documento de identidad..."))})),e(this,a).on("error",t=>g(this,null,function*(){let{SyResponseComponent:i}=yield import("./sy-response.component-Z3WLKG5P.js");n(this,p,h).call(this),this._modalService.openModal(i,{typeResponse:"error",title:t.type,message:t.message}),e(this,P)||e(this,r).unmount()})),e(this,a).on("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,a).unmount()})})},q=new WeakSet,Ze=function(){e(this,a).on("start-loading",()=>{n(this,u,C).call(this,"Danos un momento mientras validamos la imagen de tu rostro..."),e(this,a).hide()}),e(this,a).on("end-loading",()=>{e(this,a).show(),n(this,p,h).call(this)}),e(this,a).on("retry",o=>{this._modalService.openModal(j,{typeResponse:"error",title:":(",message:Z[o]})})},W=new WeakSet,je=function(o){f(this,c,new Ne({entityId:this._envStore.env.PRODUCTION?"7":"4",channel:"WEB_CLIENT",appIdentifier:"web.demo.idcolombia",processId:o,processType:"ENR",documentType:this.documentType,identificationNumber:this.identification})),e(this,c).on("ready",()=>{e(this,a).unmount(),e(this,c).show(),n(this,G,Be).call(this),n(this,p,h).call(this),f(this,T,!0)}),e(this,c).on("success",t=>g(this,null,function*(){e(this,c).hide(),n(this,u,C).call(this,"Estamos a una solo paso..."),yield n(this,R,le).call(this,o),e(this,c).unmount()})),e(this,c).on("error",t=>g(this,null,function*(){let{SyResponseComponent:i}=yield import("./sy-response.component-Z3WLKG5P.js");n(this,p,h).call(this),this._modalService.openModal(i,{typeResponse:"error",title:t.type,message:t.message}),e(this,T)||e(this,a).unmount()})),e(this,c).onIndication("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,c).unmount()})}),e(this,c).on("click-aux-button",()=>{n(this,_,M).call(this);let t=this._modalService.onDismiss.subscribe(i=>{t.unsubscribe(),i&&e(this,c).unmount()})})},G=new WeakSet,Be=function(){e(this,c).on("start-loading",()=>{n(this,u,C).call(this,"Danos un momento mientras validamos la imagen de tu documento..."),e(this,c).hide()}),e(this,c).on("end-loading",()=>{e(this,c).show(),n(this,p,h).call(this)}),e(this,c).on("retry",o=>{this._modalService.openModal(j,{typeResponse:"error",title:":(",message:Z[o]})})},H=new WeakSet,Le=function(){this.emailControl.reset(""),this.phoneNumberControl.reset("")},$=new WeakSet,Ue=function(){return this.inputEmail.nativeElement.blur(),this.inputPhone.nativeElement.blur(),{entityId:this._envStore.env.PRODUCTION?"7":"4",processType:"ENR",documentType:this.documentType,identificationNumber:this.identification,phoneIndicative:"57",phoneNumber:this.phoneNumberControl.value,channel:"WEB_CLIENT",email:this.emailControl.value,appIdentifier:"web.demo.idcolombia",otpInternal:!0,internalTutor:!0}},J=new WeakSet,Ye=function(){this._modalService.closeModal(),this._changeDetectorRef.detectChanges()},X=new WeakSet,Qe=function(o){return{typeResponse:o===2?"success":o===1?"warning":"error",title:o===2?"\xA1Felicitaciones!":o===1?"No hemos logrado validar tu identidad a\xFAn":"Algo sali\xF3 mal",message:o===2?"Ahora tienes tu identidad digital en SoyYo":o===1?"Por favor cont\xE1ctanos para que podamos ayudarte":"No pudimos crear tu identidad, vuelve a intentarlo"}},N=new WeakSet,ae=function(o){return g(this,null,function*(){let{SyResponseComponent:t}=yield import("./sy-response.component-Z3WLKG5P.js");if(n(this,p,h).call(this),o.code=="EP001")return this._modalService.openModal(t,n(this,X,Qe).call(this,o.data.identityLevel)),o;this._modalService.openModal(t,{typeResponse:"error",title:"Algo sali\xF3 mal",message:"No pudimos crear tu identidad, vuelve a intentarlo"})})},R=new WeakSet,le=function(o){return g(this,null,function*(){try{let t=yield De(o,"WEB_CLIENT");yield n(this,N,ae).call(this,t)}catch(t){yield n(this,N,ae).call(this,t)}})},(()=>{O.\u0275fac=function(t){return new(t||O)(k(we),k(Se),k(ue),k(xe))}})(),(()=>{O.\u0275cmp=I({type:O,selectors:[["app-sy-register-custom"]],viewQuery:function(t,i){if(t&1&&(ie(qe,5),ie(We,5)),t&2){let b;ne(b=se())&&(i.inputEmail=b.first),ne(b=se())&&(i.inputPhone=b.first)}},inputs:{identification:"identification",documentType:"documentType"},standalone:!0,features:[F],decls:25,vars:4,consts:[["title",""],["right",""],[1,"sy-content"],[1,"sy-header"],["aria-autocomplete","none",1,"form"],["aria-autocomplete","none"],["for","email"],[1,"sy-input-group"],["inputmode","email","type","email","autocomplete","nope","autocorrect","off","autocapitalize","none","spellcheck","false",1,"sy-input",3,"formControl","keydown.enter"],["inputEmail",""],["class","helper",4,"ngIf"],["for","phone"],["onlyNumber","","inputmode","numeric","autocomplete","nope","autocorrect","off","autocapitalize","none","spellcheck","false",1,"sy-input",3,"formControl","keydown.enter"],["inputPhone",""],["actions","","type","button",1,"sy-button","sy-button-primary",3,"click"],[1,"helper"]],template:function(t,i){t&1&&(m(0,"app-sy-modal"),x(1,"app-sy-logo",0)(2,"app-sy-close-modal",1),m(3,"main",2)(4,"header",3)(5,"h4"),y(6,"Registro de datos personales"),d()(),m(7,"form",4)(8,"fieldset",5)(9,"label",6),y(10,"Tu correo electr\xF3nico"),d(),m(11,"div",7)(12,"input",8,9),A("keydown.enter",function(te){return i.enter(te)}),d()(),oe(14,Ge,2,0,"span",10),d(),m(15,"fieldset",5)(16,"label",11)(17,"sub"),y(18,"Tu celular"),d()(),m(19,"div",7)(20,"input",12,13),A("keydown.enter",function(te){return i.enter(te)}),d()(),oe(22,He,2,0,"span",10),d()()(),m(23,"button",14),A("click",function(){return i.preOnSubmit()}),y(24," Continuar "),d()()),t&2&&(v(12),w("formControl",i.emailControl),v(2),w("ngIf",i.emailControl.invalid&&(i.emailControl.dirty||i.emailControl.touched)),v(6),w("formControl",i.phoneNumberControl),v(2),w("ngIf",i.phoneNumberControl.invalid&&(i.phoneNumberControl.dirty||i.phoneNumberControl.touched)))},dependencies:[z,fe,K,Ee,Me,_e,be,ge,ye,Ce,ve],styles:[".sy-content[_ngcontent-%COMP%]{height:100%;display:grid;grid-template-rows:50px 1fr;padding:0 1rem}.sy-header[_ngcontent-%COMP%]{font-family:montserrat;text-align:center;font-size:24px;font-weight:700;color:#2e2c35}.sy-form[_ngcontent-%COMP%]{display:flex;flex-direction:column}fieldset[_ngcontent-%COMP%]{display:grid;grid-template-rows:28px 1fr 24px;row-gap:.2rem}.sy-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;text-align:center;border-radius:var(--small-border-radius);font-weight:600;position:relative;border:1px solid;border-radius:8px;clip-path:inset(0)}.sy-input-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{width:100px;height:100%;text-align:center;border:0px;background:transparent;border-color:transparent}.sy-input[_ngcontent-%COMP%]{min-height:40px;width:100%;font-family:montserrat!important;font-weight:700;font-size:16px;padding:0 16px;border:none;border-color:transparent;background:transparent}fieldset[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.8em;margin-top:.2rem}sub[_ngcontent-%COMP%]{color:var(--body-font-color);font-size:16px;font-weight:500;bottom:0}"]})})();export{Re as SyRegisterCustomComponent};
