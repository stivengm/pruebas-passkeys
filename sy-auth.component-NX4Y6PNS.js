import{b as J,c as X}from"./chunk-RVEMB2YR.js";import{b as G,c as W}from"./chunk-T7ATAZOX.js";import{a as $}from"./chunk-XHWH72AI.js";import{a as H}from"./chunk-NJ3E4L6N.js";import{a as U}from"./chunk-YF3TQPZC.js";import"./chunk-PDRDT2QT.js";import"./chunk-ZWDUPT4T.js";import{a as A,b as m,d as R,e as L,g as C,i as j,k as B,n as V,o as q,p as Q,r as z}from"./chunk-Z7AQ5W2I.js";import{a as K}from"./chunk-5S3YCTQA.js";import{a as Y}from"./chunk-WUTQ432T.js";import"./chunk-3QSCHTZS.js";import{Dc as F,Fb as O,Ob as I,Pb as N,Rb as E,Ya as a,_a as y,a as g,b as S,cb as h,eb as s,fb as i,g as c,gb as o,h as b,hb as u,i as D,ib as x,jb as T,k as _,ka as M,ob as v,wb as l,xc as P,yb as w,yc as k}from"./chunk-PLWOJE2C.js";var te=["input"];function ne(p,t){if(p&1&&(i(0,"option",17),l(1),o()),p&2){let e=t.$implicit;s("value",e.Id_DocumentType),a(1),w(" ",e.Name," ")}}function oe(p,t){p&1&&(x(0),l(1," Continuar "),T())}function ie(p,t){p&1&&(i(0,"div",18),u(1,"span",19),o())}var r,d=class{constructor(t,e,n){b(this,r,void 0);this._envStore=t,this._modalService=e,this._typesDocumentService=n,this.typesDocuments=G,this.btnDisable=!1,this.identificationNumberControl=new C("",[m.required,m.minLength(6),m.maxLength(20)]),this.documentTypeControl=new C("CC",[m.required,m.minLength(2),m.maxLength(3)])}ngOnInit(){this._typesDocumentService.getTypes().then(t=>{this.typesDocuments=t}),J(S(g({},this._envStore.env),{ENTITY_ID:this._envStore.env.PRODUCTION?"7":"4"}),"app-root",void 0).catch(t=>{this._modalService.closeModal()})}trackByDocument(t,e){return e.Id_DocumentType}enter(t){t.preventDefault(),this.onSubmit()}onSubmit(){this.btnDisable=!0;let t=this._constructorData();D(this,r,new X(g({},t))),c(this,r).on("ready",()=>{this._modalService.closeModal(),c(this,r).show()}),c(this,r).on("error",e=>_(this,null,function*(){let{SyResponseComponent:n}=yield import("./sy-response.component-Z3WLKG5P.js");this._modalService.closeModal(),this._modalService.openModal(n,{typeResponse:"error",title:e.type,message:e.message})})),c(this,r).on("success",e=>_(this,null,function*(){let{SyResponseComponent:n}=yield import("./sy-response.component-Z3WLKG5P.js");c(this,r).unmount(),this._modalService.closeModal(),e.code==="AP001"&&this._modalService.openModal(n,{typeResponse:"success",title:"\xA1Listo!",message:"Autenticaci\xF3n exitosa"})}))}_constructorData(){let t=this._envStore.env;return{documentType:this.documentTypeControl.value,identificationNumber:this.identificationNumberControl.value,entityId:t.PRODUCTION?"7":"4",channel:"WEB_CLIENT",appIdentifier:"web.demo.idcolombia"}}},Z=d;r=new WeakMap,(()=>{d.\u0275fac=function(e){return new(e||d)(y(K),y(Y),y(W))}})(),(()=>{d.\u0275cmp=M({type:d,selectors:[["app-sy-auth"]],viewQuery:function(e,n){if(e&1&&N(te,5),e&2){let f;I(f=E())&&(n.input=f.first)}},standalone:!0,features:[O],decls:28,vars:6,consts:[["title",""],["right",""],[1,"sy-container"],[1,"sy-header"],[1,"sy-section"],[1,"sy-form"],[1,"fieldset"],["for","email"],[1,"sy-input-group"],[1,"sy-input",3,"formControl"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],[1,"helper"],["inputmode","numeric","autocomplete","nope","autocorrect","off","autocapitalize","none","spellcheck","false",1,"sy-input",3,"formControl","keydown.enter"],["input",""],["actions","","type","button",1,"sy-button","sy-button-primary",3,"click"],[4,"ngIf"],["class","spinner-border text-light","role","status",4,"ngIf"],[3,"value"],["role","status",1,"spinner-border","text-light"],[1,"visually-hidden"]],template:function(e,n){e&1&&(i(0,"app-sy-modal"),u(1,"app-sy-logo",0)(2,"app-sy-close-modal",1),i(3,"main",2)(4,"header",3)(5,"h4"),l(6,"Ingresa tu documento"),o()(),i(7,"section",4)(8,"p"),l(9," Es la forma segura de identificarte digitalmente usando tu rostro, para que nadie se haga pasar por ti "),o()(),i(10,"form",5)(11,"fieldset",6)(12,"label",7),l(13,"Tipo documento"),o(),i(14,"div",8)(15,"select",9),h(16,ne,2,2,"option",10),o()(),u(17,"span",11),o(),i(18,"fieldset",6)(19,"label",7),l(20,"Numero documento"),o(),i(21,"div",8)(22,"input",12,13),v("keydown.enter",function(ee){return n.enter(ee)}),o()(),u(24,"span",11),o()()(),i(25,"button",14),v("click",function(){return n.onSubmit()}),h(26,oe,2,0,"ng-container",15),h(27,ie,2,0,"div",16),o()()),e&2&&(a(15),s("formControl",n.documentTypeControl),a(1),s("ngForOf",n.typesDocuments)("ngForTrackBy",n.trackByDocument),a(6),s("formControl",n.identificationNumberControl),a(4),s("ngIf",!n.btnDisable),a(1),s("ngIf",n.btnDisable))},dependencies:[F,P,k,$,U,H,z,j,q,Q,A,V,R,L,B],styles:[".sy-container[_ngcontent-%COMP%]{max-width:500px;height:100%;display:grid;grid-template-rows:60px 80px 1fr;padding:0 1rem;justify-content:center}.sy-header[_ngcontent-%COMP%], .sy-section[_ngcontent-%COMP%]{font-family:montserrat;text-align:center}.sy-form[_ngcontent-%COMP%]{font-family:montserrat}.fieldset[_ngcontent-%COMP%]{display:grid;row-gap:.2rem}.sy-input-group[_ngcontent-%COMP%]{display:flex;flex-direction:row;justify-content:center;text-align:center;border-radius:var(--small-border-radius);font-weight:600;position:relative;border:1px solid;border-radius:8px;clip-path:inset(0)}.sy-input-group[_ngcontent-%COMP%] > select[_ngcontent-%COMP%]{height:100%;border:0px;background:transparent;border-color:transparent}.sy-input[_ngcontent-%COMP%]{min-height:40px;width:100%;font-family:montserrat!important;font-weight:700;font-size:16px;padding:0 16px;border:none;border-color:transparent;background:transparent}.fieldset[_ngcontent-%COMP%] > span[_ngcontent-%COMP%]{font-size:.8em;margin-top:.2rem}"]})})();export{Z as SyAuthComponent};
