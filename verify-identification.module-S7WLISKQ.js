import{a as rt,b as ht,c as ct,d as st}from"./chunk-3OZUULIT.js";import{a as at}from"./chunk-RVEMB2YR.js";import"./chunk-ZHPLHY35.js";import{a as dt}from"./chunk-2HVS7WAE.js";import"./chunk-MH2UMHI6.js";import{f as $,i as tt,j as et,k as nt,v as ot}from"./chunk-JVPJCO7P.js";import"./chunk-SDAGV2NN.js";import"./chunk-FEOETI4K.js";import{a as u}from"./chunk-6N2SWU4J.js";import{a as Y,s as Q}from"./chunk-OWWYICLM.js";import"./chunk-U7OPD6OV.js";import{b as q,g as P}from"./chunk-XSAAQTIS.js";import"./chunk-IVYPRR5I.js";import{a as it}from"./chunk-5RVIOHDR.js";import{b as X,c as Z}from"./chunk-T7ATAZOX.js";import"./chunk-PDRDT2QT.js";import"./chunk-ZWDUPT4T.js";import{a as j,d as z,e as R,i as V,l as A,m as U,n as H,o as G,p as J,r as L,s as W}from"./chunk-Z7AQ5W2I.js";import{a as K}from"./chunk-5S3YCTQA.js";import"./chunk-WUTQ432T.js";import"./chunk-3QSCHTZS.js";import{Dc as B,Kb as N,Ya as a,_a as d,a as O,b as k,cb as _,da as h,eb as s,f as gt,fb as i,gb as o,hb as v,k as I,ka as S,ma as y,ob as l,vb as w,wb as c,wc as T,xb as x,xc as E,yb as D,yc as F}from"./chunk-PLWOJE2C.js";var pt=gt(ht());function yt(g,e){if(g&1&&(i(0,"option",21),c(1),o()),g&2){let n=e.$implicit;s("value",n.Id_DocumentType),a(1),D(" ",n.Id_DocumentType," ")}}function vt(g,e){g&1&&(i(0,"p",22),c(1," El documento no es correcto "),o())}var C={1:{title:"Valida tu identidad",description:"Pensando en tu seguridad, necesitamos validar tu identidad."},2:{title:"M\xE1s f\xE1cil y seguro",description:"Usamos el reconocimiento facial para hacer todo m\xE1s f\xE1cil y seguro para ti."},3:{title:"Empecemos",description:"Ahora solo pediremos unos datos, tu foto y tu c\xE9dula."}},f=class{constructor(e,n,t,r,ft,ut){this._activatedRoute=e,this._typesDocumentService=n,this.authModal=t,this.formBuilder=r,this.snackBar=ft,this._envStore=ut,this.form=this.formBuilder.group(rt),this.loading=!1,this.backToHome=new N,this.typesDocuments=X,this.step=1,this.title=C[1].title,this.description=C[1].description}ngOnInit(){let e=!1,n=!1,t=this._envStore.env;t.ENTITY_ID=t.PRODUCTION?"7":"4",this._paramsSub=this._activatedRoute.queryParams.subscribe(r=>{r.hasOwnProperty("loader")&&(e=!0),r.hasOwnProperty("hidden")&&(n=!0),this.authentication=new at(t,void 0,e,n)}),this._typesDocumentService.getTypes().then(r=>{this.typesDocuments=r})}ngOnDestroy(){this._paramsSub.unsubscribe()}trackByDocument(e,n){return n.Id_DocumentType}verifyIdentificationUser(e){this.step=e,this.title=C[e].title,this.description=C[e].description}openModal(){this.authModal.open(ct,{panelClass:"size-modal"})}_constructorData(){let e=this.form.value,n=this._envStore.env;return k(O({},e),{identificationNumber:this.form.controls.identificationNumber.value.split(" ").join(""),entityId:n.PRODUCTION?"7":"4",channel:"WEB_CLIENT",appIdentifier:"web.demo.idcolombia"})}onSubmit(){return I(this,null,function*(){this.loading=!0;try{let e=this._constructorData(),n=yield this.authentication.authenticate(e,t=>{t.code==="AP001"?(this.loading=!1,pt.default.fire({heightAuto:!1,title:"\xA1Listo!",text:"Autenticaci\xF3n exitosa",imageUrl:"https://soyyoacuantdev.idcolombia.co/assets/images/Check_icono.png",imageWidth:40,imageHeight:40,imageAlt:"Image success",confirmButtonText:"Entendido",confirmButtonColor:"#006EFF"})):(this.loading=!1,this.snackBar.openFromComponent(u,{duration:2e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["info-snack"],data:{message:"Verificaci\xF3n cancelada"}}))},t=>{this.loading=!1,t.code==="AP002"?this.snackBar.openFromComponent(u,{duration:3e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["red-snack"],data:{message:t.message}}):t.code==="AP003"?(this.loading=!1,this.snackBar.openFromComponent(u,{duration:3e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["red-snack"],data:{message:"Operaci\xF3n no exitosa"}})):(this.loading=!1,this.snackBar.openFromComponent(u,{duration:3e3,verticalPosition:"top",horizontalPosition:"center",panelClass:["red-snack"],data:{message:t.message}}))});setTimeout(()=>{},1e3)}catch{}})}backHome(){this.backToHome.emit()}},b=f;(()=>{f.\u0275fac=function(n){return new(n||f)(d(q),d(Z),d($),d(W),d(Q),d(K))}})(),(()=>{f.\u0275cmp=S({type:f,selectors:[["app-verify-identification"]],outputs:{backToHome:"backToHome"},decls:33,vars:12,consts:[[1,"card","card-auth"],[1,"card-img"],[1,"height-40","m-0"],[1,"d-flex","justify-content-center","align-items-center","my-4"],[1,"pointer",3,"ngClass","click"],["mat-flat-button","",1,"w-100","primary-color","py-1","mb-5",3,"click"],[1,"bold","cursor-pointer"],[1,"margin-body"],[1,"d-flex","flex-row","justify-content-center","alig-items-center",2,"padding-bottom","10px"],["src","assets/images/Isotipo.svg","alt","logo"],["id","basic-information","novalidate","",3,"formGroup","ngSubmit"],[1,"text-fields"],["for","document"],[1,"field"],[1,"info","select"],["formControlName","documentType"],[3,"value",4,"ngFor","ngForOf","ngForTrackBy"],["inputmode","numeric","separatorIdentification","","autocomplete","nope","autocorrect","off","autocapitalize","none","spellcheck","false","formControlName","identificationNumber",1,"min-heigth"],["class","helper",4,"ngIf"],[1,"d-flex","flex-row","justify-content-center","alig-items-center",2,"padding-top","32px"],["mat-flat-button","","color","primary","type","submit","form","basic-information",1,"btn","btn-primary","btn-registry",3,"disabled"],[3,"value"],[1,"helper"]],template:function(n,t){n&1&&(i(0,"mat-card",0)(1,"mat-card-title"),c(2),o(),i(3,"mat-card-content"),v(4,"div",1),i(5,"p",2),c(6),o(),i(7,"div",3)(8,"div",4),l("click",function(){return t.verifyIdentificationUser(1)}),o(),i(9,"div",4),l("click",function(){return t.verifyIdentificationUser(2)}),o(),i(10,"div",4),l("click",function(){return t.verifyIdentificationUser(3)}),o()(),i(11,"button",5),l("click",function(){return t.openModal()}),c(12," Verificar mi identidad "),o(),i(13,"p"),c(14," \xBFTienes dudas? "),i(15,"span",6),c(16,"Ir a soporte"),o()()()(),i(17,"div",7)(18,"div",8),v(19,"img",9),o(),i(20,"form",10),l("ngSubmit",function(){return t.onSubmit()}),i(21,"div",11)(22,"label",12),c(23,"Ingresa tu documento de identidad"),o(),i(24,"div",13)(25,"div",14)(26,"select",15),_(27,yt,2,2,"option",16),o()(),v(28,"input",17),o(),_(29,vt,2,0,"p",18),o()(),i(30,"div",19)(31,"button",20),c(32,"SIGUIENTE"),o()()()),n&2&&(a(2),x(t.title),a(4),x(t.description),a(2),s("ngClass",t.step===1?"primary-color":"secondary-color"),a(1),s("ngClass",t.step===2?"primary-color":"secondary-color"),a(1),s("ngClass",t.step===3?"primary-color":"secondary-color"),a(10),s("formGroup",t.form),a(7),s("ngForOf",t.typesDocuments)("ngForTrackBy",t.trackByDocument),a(2),s("ngIf",t.form.controls.identificationNumber.invalid&&(t.form.controls.identificationNumber.dirty||t.form.controls.identificationNumber.touched)),a(2),w("spinner",t.loading),s("disabled",t.loading||t.form.pristine||t.form.invalid))},dependencies:[T,E,F,V,G,J,j,H,z,R,A,U,nt,tt,et,Y,it],styles:[".cursor-pointer[_ngcontent-%COMP%]:hover{cursor:pointer}.bold[_ngcontent-%COMP%]{color:var(--black);font-weight:700}.primary-color[_ngcontent-%COMP%]{color:#fff;background-color:#5a33ff}.secondary-color[_ngcontent-%COMP%]{background-color:var(--secondary)}.height-40[_ngcontent-%COMP%]{height:40px}.card[_ngcontent-%COMP%]{width:100%;padding:50px 25px 25px;box-shadow:none}.card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{letter-spacing:-.7px;color:var(--black);font:700 40px/48px Roboto,Helvetica Neue,sans-serif!important}@media (max-width: 720px){.card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font:700 32px/36px Roboto,Helvetica Neue,sans-serif!important}}@media (max-width: 576px){.card[_ngcontent-%COMP%]   mat-card-title[_ngcontent-%COMP%]{font:700 24px/24px Roboto,Helvetica Neue,sans-serif!important}}.card-img[_ngcontent-%COMP%]{width:100%;background-color:#d3d3d3;height:165px;margin:20px auto!important}.card-img[_ngcontent-%COMP%]   img[_ngcontent-%COMP%]{width:100%;margin-top:0!important}.pointer[_ngcontent-%COMP%]{margin:auto 8px;width:8px;height:8px;border-radius:50%;cursor:pointer}nav[_ngcontent-%COMP%]   .container[_ngcontent-%COMP%]{padding-top:10px!important}.divtext-navbar[_ngcontent-%COMP%]{display:block!important;flex-grow:1}.container-navbar[_ngcontent-%COMP%]{display:flex;flex-direction:row;flex-grow:1}.title-header[_ngcontent-%COMP%]{font-size:14px;font-family:montserrat!important}.desc-title[_ngcontent-%COMP%]{font-size:16px;font-family:montserrat!important}.subtitle-registry[_ngcontent-%COMP%]{font-family:montserrat!important}.btn-registry[_ngcontent-%COMP%]{font-size:14px;width:320px;border-radius:7px;font-family:montserrat!important;height:40px!important;background-color:#5a33ff!important}.btn-outline-primary-registry[_ngcontent-%COMP%]{font-size:14px;width:320px;border-radius:7px;font-family:montserrat!important;height:40px!important;color:#5a33ff!important;border-color:#5a33ff!important}.navbar-header[_ngcontent-%COMP%]{padding-right:0!important;padding-left:0!important;top:0;height:56px}.navbar[_ngcontent-%COMP%]{background-color:#fff!important;box-shadow:0 2px 1px -2px gray;padding:20px}.div-arrow-back[_ngcontent-%COMP%]{line-height:0}@media only screen and (max-width: 765px){.card-auth[_ngcontent-%COMP%]{display:none}}@media only screen and (min-width: 770px){.navbar-header[_ngcontent-%COMP%], .margin-body[_ngcontent-%COMP%]{display:none}}@media screen and (orientation: landscape){@media only screen and (max-width: 1000px){.div-logo[_ngcontent-%COMP%]{margin-left:200px!important}.btn-registry[_ngcontent-%COMP%], .btn-outline-primary-registry[_ngcontent-%COMP%]{width:500px}.margin-body[_ngcontent-%COMP%]{display:block}.card-auth[_ngcontent-%COMP%]{display:none}.navbar-header[_ngcontent-%COMP%]{display:block}.div-subtitle-registry[_ngcontent-%COMP%]{margin-left:150px!important}}}.input-group[_ngcontent-%COMP%]{border:1px solid;border-color:#828086;border-radius:5px;height:48px}.input-group[_ngcontent-%COMP%]   input[_ngcontent-%COMP%]{height:46px}label[_ngcontent-%COMP%]{font-size:14px;font-family:montserrat}.input-group-text[_ngcontent-%COMP%]{font-size:16px;font-family:montserrat}.desc-document[_ngcontent-%COMP%]{font-size:12px;font-family:montserrat;color:#5a33ff}#back[_ngcontent-%COMP%]{cursor:pointer}input[_ngcontent-%COMP%]::-webkit-outer-spin-button, input[_ngcontent-%COMP%]::-webkit-inner-spin-button{-webkit-appearance:none;margin:0}input[type=number][_ngcontent-%COMP%]{-moz-appearance:textfield}select[_ngcontent-%COMP%]{border-color:transparent;background:transparent;display:flex;justify-content:center;text-align:center;border-radius:var(--small-border-radius);font-weight:600;outline:none;color:currentColor;flex-direction:row;appearance:none;width:80%}"]})})();var bt=[{path:"",component:b}],m=class{},M=m;(()=>{m.\u0275fac=function(n){return new(n||m)}})(),(()=>{m.\u0275mod=y({type:m})})(),(()=>{m.\u0275inj=h({imports:[P.forChild(bt),P]})})();var p=class{},lt=p;(()=>{p.\u0275fac=function(n){return new(n||p)}})(),(()=>{p.\u0275mod=y({type:p})})(),(()=>{p.\u0275inj=h({imports:[B,L,M,ot,st,dt]})})();export{lt as VerifyIdentificationModule};
